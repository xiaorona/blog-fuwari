---
title: 使用Cloudflare Workers功能构建网站
published: 2025-06-05
description: "使用Cloudflare Workers部署和构建网站并自定义域名，实现全球访问。"
image: ""
tags: ["部署"]
category: Cloudflare
draft: false
---

Cloudflare人称带善人，活佛，free计划功能有不少值得使用的功能，如防御、无服务器计算和托管服务等。可以把Github仓库中的静态网站部署到 Cloudflare，首先登录到[Cloudflare控制台](https://dash.cloudflare.com)点击左侧菜单中计算 (Workers)，点击创建按钮，选择的是Workers，也可以选择Pages。若选择的是Workers，点击导入存储库，选择需要部署的Github仓库，之后为项目命名，选择分支、构建命令，默认的部署命令使用npx wrangler deploy，
需要**在项目根目录创建 `wrangler.jsonc`**  
   ```json
   {
     "name": "my-static-site",
     "compatibility_date": "2025-06-05",
     "assets": {
       "directory": "./dist"
     }
   }
   ```
   - `directory`: 指定静态资源目录（如 Astro 的 `dist`），根目录`.`。
保存并部署后，Cloudflare会分配我们一个workers.dev的子域，不过在国内这个域名已经被墙的差不多了，需要使用自己的域名：选择部署好的项目名称-设置-域和路由-添加自己的域名(需要先托管到Cloudflare)，它会自动添加DNS记录并配置好证书。等待一会访问自己的域名即可。
若要使用Pages部署，也和上面的流程差不多，Pages可以在仓库提交更新后自动部署，默认分配的pages.dev域可能无法打开，也需要绑定自己的域名，且Pages项目部署数量超过100个，还可能无法手动删除该项目(需要使用工具删除)。
| **场景**               | **Workers** | **Pages** |
|------------------------|------------|-----------|
| API/微服务            | ✅ 最佳     | ⚠️ 需结合 Functions |
| 静态网站托管         | ❌ 不推荐   | ✅ 最佳   |
| 边缘计算（低延迟）  | ✅ 最佳     | ❌ 较慢  |
| 全栈应用（SSR）     | ⚠️ 需手动  | ✅ 内置支持 |
| 自动化 CI/CD        | ❌ 需额外配置 | ✅ 自动触发 |